<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Главная</title>
    <link rel="icon" type="image/x-icon" href="./images/favicon.svg" />
    <analytics></analytics>
  </head>

  <body>
    <div class="main_screen">
      <div class="vinyl"></div>
      <div class="guitar"></div>
      <div class="tape"></div>
      <div class="decor_main"></div>
      <div class="text_main">
        <div class="vrubim">
          <h2>ВРУБИМ ТЕБЯ</h2>
        </div>
        <div class="v_alt">
          <h2>
            <span class="text_v">В</span
            ><span class="text_alt">АЛЬТЕРНАТИВУ</span>
          </h2>
        </div>
        <div class="logo_main"></div>
      </div>
    </div>
    <div class="main">
      <div class="bg_video">
        <!-- <div class="form">
          <form
            id="my-form"
            action="https://formspree.io/f/xdorbvzr"
            method="POST"
          >
            <label
              >Оставьте контакты, чтобы узнать о дате запуска платформы</label
            >
            <input type="email" name="email" />
            <button id="my-form-button">Подписаться</button>
            <p id="my-form-status"></p>
          </form>
        </div> -->
      </div>
      <div class="header">
        <div class="logo_header"></div>
        <a href="index.html">ИСПОЛНИТЕЛИ</a>
        <a href="index.html">ЖАНРЫ</a>
        <a href="index.html">СТАТЬИ</a>
        <div class="search"></div>
      </div>

      <!-- форма для сбора почт -->

      <!-- Place this script at the end of the body tag -->
      <script>
        var form = document.getElementById('my-form')

        async function handleSubmit(event) {
          event.preventDefault()
          var status = document.getElementById('my-form-status')
          var data = new FormData(event.target)
          fetch(event.target.action, {
            method: form.method,
            body: data,
            headers: {
              Accept: 'application/json'
            }
          })
            .then((response) => {
              if (response.ok) {
                status.innerHTML = 'Спасибо!'
                form.reset()
              } else {
                response.json().then((data) => {
                  if (Object.hasOwn(data, 'errors')) {
                    status.innerHTML = data['errors']
                      .map((error) => error['message'])
                      .join(', ')
                  } else {
                    status.innerHTML = 'Упс! Возникла ошибка'
                  }
                })
              }
            })
            .catch((error) => {
              status.innerHTML = 'Упс! Возникла ошибка '
            })
        }
        addEventListener('submit', handleSubmit)
      </script>
    </div>
  </body>
</html>
